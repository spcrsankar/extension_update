(()=>{let e=[];function t(){const t=document.querySelector("div#lower-prev-next-links"),o=document.createElement("div");o.id="dialog",o.style.display="none",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.5)",o.style.zIndex="1000";const n=document.createElement("div");n.style.position="absolute",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.backgroundColor="white",n.style.padding="20px",n.style.borderRadius="5px";const l=document.createElement("h2");l.textContent="Answers",l.style.marginBottom="5px";const r=document.createElement("table");r.border="2";const s=document.createElement("tr"),c=document.createElement("th");c.textContent="Question";const i=document.createElement("th");i.textContent="Answer",s.appendChild(c),s.appendChild(i),r.appendChild(s);const d=document.createElement("button");d.id="close-dialog",d.textContent="Close",d.style.backgroundColor="red",d.style.color="white",d.style.padding="5px",r.appendChild(s),n.appendChild(l),n.appendChild(r),n.appendChild(d),o.appendChild(n),t.appendChild(o),setTimeout((()=>{document.querySelector("#dialog").style.display="block",document.querySelector("#close-dialog").addEventListener("click",(()=>{document.querySelector("#dialog").remove()}));let t=document.querySelector("#dialog div table");console.log(t);let o="";console.log(e),e.forEach((e=>{o+=`<tr><td>${e.question}</td><td>${e.answer}</td></tr>`})),console.log(o),t.innerHTML+=o}),500)}!function(){console.log("ok ok ok "),console.log("Content Script Loaded");const o=document.querySelector("div#lower-prev-next-links");o.innerHTML="<span id='fill-button' style='background-color: blue; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; margin-bottom:5px;'>Fill Answer</span> <span id='show-button' style='background-color: green; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;margin-bottom:10px;'>Show Answers</span>"+o.innerHTML,document.querySelector("div[data-react-class=ResetMultipleChoiceQuestionsManager] button"),document.querySelector("#fill-button").addEventListener("click",(()=>{console.log("fill the answerws"),function(){let o=document.querySelectorAll("div.multiple-choice-question-component");e=[],console.log(o);for(let t=0;t<o.length;t++){const n=o[t];let l=n.querySelector(".webtext-question-label").textContent,r=n.querySelectorAll("input[type=radio]"),s=[];for(let e=0;e<r.length;e++){const t=r[e];s.push(t.parentElement.querySelector("label").textContent)}e.push({whole_tag:n,question:l,options:s,answer:"",options_tag:r,answer_tag:"",is_answered:!1,current_index:0,submit_button:n.querySelector("button[type=submit]")})}console.log(e),function(e){console.log("start solving questions");let o=2,n=[],l=0,r=setInterval((()=>{if(console.log("each interval with flag "+o),2===o){if(n=e.filter((e=>!e.is_answered)),console.log("reamining questions "+n.length),l=0,0===n.length)return console.log("all questions completed"),console.log(e),void(o=4);let t=document.querySelector("div[data-react-class=ResetMultipleChoiceQuestionsManager] button");return t.disabled||(t.click(),setTimeout((()=>{document.querySelector(".css-nfm37i")?.querySelector(".css-11fe8q")?.click()}),500)),void(o=0)}if(1===o){let e=n[l];return console.log(e.whole_tag.querySelector("button[type=submit]")),e.whole_tag.querySelector("button[type=submit]").click(),o=0,void(l+=1)}if(0!==o){if(3===o)e.forEach((e=>{e.is_answered||(e.whole_tag.querySelector(".correct")?(e.answer=e.options[e.current_index],e.answer_tag=e.options_tag[e.current_index],e.is_answered=!0,console.log(e.question+" completed")):e.whole_tag.querySelector(".incorrect")&&(e.current_index+=1,console.log(e.question+" incorrect")))})),o=2;else if(4===o)return console.log("all questions completed"),console.log(e),e[l].answer_tag.click(),e[l].whole_tag.querySelector("button[type=submit]")?.click(),l+=1,void(l===e.length&&(clearInterval(r),t()))}else{if(l===n.length)return l=0,void(o=3);{let e=n[l];e.options_tag[e.current_index].click()}o=1}}),1e3)}(e)}()})),document.querySelector("#show-button").addEventListener("click",(()=>{console.log("show the answerws"),t()}))}()})();